<h1>Python und Data Science: Überblick</h1>
<h1>Pakete</h1>
<h2>Python Pakete für Data Science</h2>
<ul>
<li><em>Jupyter</em> &#x26; <em>IPython</em>: interaktive Python Umgebungen</li>
<li><em>NumPy</em>: Bibliothek zum effizienten Verarbeiten numerischer Daten</li>
<li><em>Pandas</em>: Bibliothek zur Datenanalyse, basiert auf NumPy</li>
<li><em>Matplotlib</em> und <em>Pyplot</em>: Bibliothek zur Datenvisualisierung</li>
<li><em>Scikit-Learn</em>: Bibliothek für Machine Learning, basiert auf NumPy</li>
<li><em>Keras</em>: Bibliothek für Deep Learning</li>
</ul>
<h2>Kompilierte Pakete und Python-Versionen</h2>
<p>Kompilierte Pakete (wie <em>NumPy</em>, <em>TensorFlow</em> oder <em>PyTables</em>) benötigen oft einige Monate, bis sie für eine neue Python-Version verfügbar sind.</p>
<p>Empfehlung: Verwende eine ältere Python-Version (z.B. 3.8 anstatt 3.9) oder eine vorkompilierte Distribution (wie Anaconda)</p>
<h2>Python Pakete für Data Science</h2>
<p>Installation der wichtigsten Pakete in einer vorhandenen Python-Umgebung:</p>
<pre><code class="hljs language-bash">pip install jupyter numpy pandas matplotlib sklearn tensorflow
</code></pre>
<h1>Jupyter und IPython</h1>
<h2>IPython</h2>
<p>IPython = Fortgeschrittene interaktive Python Konsole, beinhaltet u.a. Autovervollständigung</p>
<h2>Jupyter Notebooks</h2>
<ul>
<li>interaktives Python-Dokument (basierend auf IPython)</li>
<li>Dateiformat mit Endung <em>.ipynb</em></li>
<li>kann Python Code, Ausgaben / Grafiken und Dokumentation / Notizen beinhalten</li>
</ul>
<h2>Jupyter Interfaces</h2>
<ul>
<li><em>Jupyter Notebook</em>: webbasiertes Interface, das auf einem Server oder lokal laufen kann</li>
<li><em>JupyterLab</em>: Nachfolgeprojekt von <em>Jupyter Notebook</em></li>
<li><em>VS Code</em>: unterstützt Jupyter notebooks ebenfalls</li>
</ul>
<h2>Jupyter Notebook - online</h2>
<p>kostenlose online Jupyter Notebooks:</p>
<ul>
<li><em>Google Colab</em>: <a href="https://colab.research.google.com">https://colab.research.google.com</a> (Login erforderlich)</li>
<li><em>kaggle</em> (Login zum Ändern / Erstellen erforderlich): <a href="https://www.kaggle.com">https://www.kaggle.com</a>
<ul>
<li>populäre öffentliche Notebooks auf <em>kaggle</em>: <a href="https://www.kaggle.com/notebooks?sortBy=voteCount">https://www.kaggle.com/notebooks?sortBy=voteCount</a></li>
</ul>
</li>
<li><em>Binder</em> (begrenzte Sessions): <a href="https://jupyter.org/try">https://jupyter.org/try</a></li>
</ul>
<h2>Jupyter Pakete</h2>
<p>Python-Pakte:</p>
<ul>
<li><em>ipykernel</em> - benötigt für Unterstützung von VS Code</li>
<li><em>notebook</em> - altes eigenständiges Browserinterface</li>
<li><em>jupyterlab</em> - neues Browserinterface</li>
</ul>
<h2>Jupyter Notebook - VS Code</h2>
<p>VS Code kann sich mit dem IPython-Kernel verbinden:</p>
<p>In der Befehlspalette von VS Code (via F1) suchen wir nach: <em>Python: Create New Blank Jupyter Notebook</em></p>
<!-- pip install ipykernel - will install ipython, jupyter-core, jupyter-client -->
<h2>Jupyter Notebook - Jupyterlab</h2>
<p>Ausführen von Jupyterlab aus dem Terminal:</p>
<pre><code class="hljs language-bash">jupyter-lab
</code></pre>
<h2>Code schreiben und ausführen</h2>
<p>Code in eine Zelle schreiben, z.B.</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> time
time.sleep(<span class="hljs-number">3</span>)
<span class="hljs-string">"hello"</span>
</code></pre>
<p>dann <em>Shift</em> + <em>Enter</em> drücken</p>
<h2>Code schreiben und ausführen</h2>
<p>In IPython gibt es nummerierte Eingaben, z.B. <code>[1]</code></p>
<p>Während eine Eingabe ausgewertet wird, wird <code>[*]</code> angezeigt</p>
<h2>Code schreiben und ausführen</h2>
<p>Wenn das letzte Statement in einer Zelle einen Wert ergibt, wird dies als Ausgabe angezeigt</p>
<p>(Um dies zu unterdrücken, schließe das letzte Statement mit einem Semikolon ab)</p>
<h2>Code schreiben und ausführen</h2>
<p>Interface-Funktionalität (je nach Notebook-Typ verschieden):</p>
<ul>
<li>Zelle ausführen</li>
<li>neu starten (vergisst bisherige Variablen und Zustand)</li>
<li>alle Zellen ausführen / neu starten und alle Zellen ausführen</li>
<li>Ausführung unterbrechen</li>
</ul>
<h2>Dokumentation via Markdown</h2>
<p>Wir können Dokumentation über die standardisierte Sprache <em>Markdown</em> hinzufügen:</p>
<p>Wechsle von <em>Code</em> auf <em>Markdown</em> und versuche den folgenden Code:</p>
<pre><code class="hljs language-md"><span class="hljs-section"># Heading</span>

<span class="hljs-bullet">-</span> item 1
<span class="hljs-bullet">-</span> item 2
</code></pre>
<p>Zelle ausführen oder verlassen, um das Resultat anzuzeigen, doppelklicken zum erneuten Editieren</p>
<p><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown Cheatsheet</a></p>
<h2>Dokumentation</h2>
<p>Dokumentation zu Funktion / Klasse / Modul / ... in einer Python Konsole anzeigen:</p>
<pre><code class="hljs language-py"><span class="hljs-built_in">help</span>(<span class="hljs-built_in">str</span>)
</code></pre>
<p>(Navigieren durch lange Ausgaben via <em>Enter</em>, Beenden via <em>Q</em>)</p>
<p>Shortcut in IPython / Jupyter:</p>
<pre><code class="hljs language-ipython"><span class="hljs-built_in">str</span>?
</code></pre>
<h2>Terminal-Befehle ausführen</h2>
<p>IPython beinhaltet direkten Zugriff auf viele Terminal-Befehle, z.B. <code>ls</code>, <code>cd</code>, ...</p>
<p>Wir können beliebige Terminal-Befehle ausführen, indem wir ein <code>!</code> davor setzen</p>
<h1>Vertiefung: Anaconda</h1>
<h2>Anaconda</h2>
<p><em>Anaconda</em> = Python Distribution, die viele vorkompilierte Pakete und Entwicklerwerkzeuge enthält</p>
<p>Benötigt ~3GB Platz auf der Festplatte</p>
<p>beinhaltet <em>Conda</em> als Environment- und Paketmanager (ermöglicht Installation mehrerer Python-Versionen und Python-Pakete)</p>
<h2>Installation von Anaconda</h2>
<p>Download von <a href="https://www.anaconda.com/products/individual">https://www.anaconda.com/products/individual</a></p>
<p>Unter Windows sollte der Installationspfad keine Leerzeichen enthalten (Empfehlung: <code>C:/anaconda</code>) - siehe <a href="https://docs.anaconda.com/anaconda/user-guide/faq/#distribution-faq-windows-folder">https://docs.anaconda.com/anaconda/user-guide/faq/#distribution-faq-windows-folder</a></p>
<h2>Anaconda</h2>
<p>zum Starten eines <em>Jupyter</em> Notebooks: Eintrag <em>Jupyter Notebook</em> im Startmenü / Befehl <code>jupyter notebook</code> im Terminal</p>
<p>Stoppen: <em>Quit</em> im rechten oberen Eck der Ordneransicht (üblicherweise unter http://localhost:8888/tree)</p>
<h1>NumPy: Überblick und Demo</h1>
<h2>NumPy</h2>
<p><em>NumPy</em>: Library zur effizienten Verarbeitung numerischer Daten - basierend auf mehrdimensionalen Arrays</p>
<h2>NumPy: Überblick und Demo</h2>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># create a 2-dimensional array</span>
iris = np.array([[<span class="hljs-number">5.1</span>, <span class="hljs-number">3.5</span>, <span class="hljs-number">1.4</span>, <span class="hljs-number">0.2</span>],
                 [<span class="hljs-number">4.9</span>, <span class="hljs-number">3.0</span>, <span class="hljs-number">1.4</span>, <span class="hljs-number">0.2</span>],
                 [<span class="hljs-number">4.7</span>, <span class="hljs-number">3.2</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">0.2</span>],
                 [<span class="hljs-number">4.6</span>, <span class="hljs-number">3.1</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.2</span>]])
</code></pre>
<h2>NumPy: Überblick und Demo</h2>
<pre><code class="hljs language-py"><span class="hljs-comment"># get the first column</span>
col0 = iris[:, <span class="hljs-number">0</span>]  <span class="hljs-comment"># [5.1, 4.9, 4.7, 4.6]</span>
<span class="hljs-comment"># get the second column</span>
col1 = iris[:, <span class="hljs-number">1</span>]  <span class="hljs-comment"># [3.5, 3.0, 3.2, 3.1]</span>
</code></pre>
<h2>NumPy: Überblick und Demo</h2>
<pre><code class="hljs language-py"><span class="hljs-comment"># get the mean value of the first column</span>
mean0 = col0.mean()  <span class="hljs-comment"># 4.825</span>

<span class="hljs-comment"># divide the entries in the first column by the entries</span>
<span class="hljs-comment"># in the second column</span>
quot = col0 / col1  <span class="hljs-comment"># [1.46, 1.63, 1.47, 1.48]</span>
</code></pre>
<h1>Pandas: Überblick und Demo</h1>
<h2>Pandas</h2>
<p><em>Pandas</em>: Library für Datenanalyse, basiert auf NumPy</p>
<h2>Pandas: Überblick und Demo</h2>
<p>Laden einer Tabelle (<em>DataFrame</em>) aus einer CSV-Datei:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

titanic = pd.read_csv(
    <span class="hljs-string">"https://public.opendatasoft.com/"</span> +
        <span class="hljs-string">"explore/dataset/titanic-passengers/download"</span>,
    delimiter=<span class="hljs-string">";"</span>,
)
</code></pre>
<h2>Pandas: Überblick und Demo</h2>
<p>Anzeigen von Daten:</p>
<pre><code class="hljs language-py">titanic
</code></pre>
<p>Anzeigen einer Spalte ("Series"):</p>
<pre><code class="hljs language-py">titanic[<span class="hljs-string">"age"</span>]
</code></pre>
<h2>Pandas: Überblick und Demo</h2>
<p>Zusammenfassung aller numerischen Daten:</p>
<pre><code class="hljs language-py">titanic.describe()
</code></pre>
<p>Zusammenfassung einer Spalte ("Series"):</p>
<pre><code class="hljs language-py">titanic[<span class="hljs-string">"age"</span>].describe()
</code></pre>
<p>Durchschnitt einer Spalte ("Series"):</p>
<pre><code class="hljs language-py">titanic[<span class="hljs-string">"age"</span>].mean()
</code></pre>
<h2>Pandas: Überblick und Demo</h2>
<p>Abfragen von Daten: Passagiere jünger als 1 Jahr</p>
<pre><code class="hljs language-py">titanic[titanic[<span class="hljs-string">"age"</span>] &#x3C; <span class="hljs-number">1</span>]
</code></pre>
<h2>Pandas: Überblick und Demo</h2>
<p>Vorbereiten der Daten für eine Machine Learning Übung:</p>
<pre><code class="hljs language-py">titanic_ml = pd.DataFrame({
    <span class="hljs-string">"female"</span>: titanic[<span class="hljs-string">"sex"</span>].replace(
        {<span class="hljs-string">"female"</span>: <span class="hljs-literal">True</span>, <span class="hljs-string">"male"</span>: <span class="hljs-literal">False</span>}
    ),
    <span class="hljs-string">"pclass"</span>: titanic[<span class="hljs-string">"pclass"</span>],
    <span class="hljs-string">"age"</span>: titanic[<span class="hljs-string">"age"</span>],
    <span class="hljs-string">"sibsp"</span>: titanic[<span class="hljs-string">"sibsp"</span>],
    <span class="hljs-string">"survived"</span>: titanic[<span class="hljs-string">"survived"</span>].replace(
        {<span class="hljs-string">"Yes"</span>: <span class="hljs-literal">True</span>, <span class="hljs-string">"No"</span>: <span class="hljs-literal">False</span>}
    )
})

<span class="hljs-comment"># remove rows with missing data</span>
titanic_ml = titanic_ml.dropna()
</code></pre>
<h1>Pyplot: Überblick und Demo</h1>
<h2>Pyplot: Überblick und Demo</h2>
<p><em>Pyplot</em>: Interface zum Darstellen von Daten - in matplotlib beinhaltet, aus <em>pandas</em> aufrufbar</p>
<h2>Pyplot: Überblick und Demo</h2>
<p>direktes Verwenden von pyplot:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

plt.hist(
    titanic[<span class="hljs-string">"pclass"</span>],
    bins=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],
    align=<span class="hljs-string">"left"</span>,
)
plt.xticks([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
</code></pre>
<p>pyplot aus pandas heraus verwenden:</p>
<pre><code class="hljs language-py">titanic[<span class="hljs-string">"pclass"</span>].plot.hist(
    bins=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],
    align=<span class="hljs-string">"left"</span>,
    xticks=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],
)
</code></pre>
<h2>Pyplot: Überblick und Demo</h2>
<pre><code class="hljs language-py">plt.boxplot(
    titanic[<span class="hljs-string">"age"</span>].dropna(),
    whis=[<span class="hljs-number">0</span>, <span class="hljs-number">100</span>],
    labels=[<span class="hljs-string">"age"</span>]
)
</code></pre>
<h2>Pyplot: Überblick und Demo</h2>
<pre><code class="hljs language-py">plt.hist(
    titanic[<span class="hljs-string">"age"</span>],
    bins=[<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">70</span>, <span class="hljs-number">80</span>],
    color=<span class="hljs-string">"C1"</span>,
)
</code></pre>
<h1>Scikit-learn: Überblick und Demo</h1>
<h2>Scikit-learn: Überblick und Demo</h2>
<p>Übung: Voraussagen von Überleben auf der Titanic basierend auf einer linearen Regression</p>
<h2>Scikit-learn: Überblick und Demo</h2>
<p>"Trainieren" eines Modells:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression

passenger_data = titanic_ml[[<span class="hljs-string">"female"</span>, <span class="hljs-string">"pclass"</span>, <span class="hljs-string">"age"</span>, <span class="hljs-string">"sibsp"</span>]]
survived = titanic_ml[<span class="hljs-string">"survived"</span>]

model = LinearRegression()

model.fit(passenger_data, survived)
</code></pre>
<h2>Scikit-learn: Überblick und Demo</h2>
<p>Voraussagen der Überlebenschance für:</p>
<ul>
<li>40 Jahre alte Frau in der ersten Klasse (ohne Geschwister oder Ehemann)</li>
<li>40 Jahre alter Mann in der dritten Klasse (ohne Geschwister oder Ehefrau)</li>
</ul>
<pre><code class="hljs language-py">model.predict(
    np.array([
        [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>],
        [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>],
    ])
)
<span class="hljs-comment"># [0.93, 0.03]</span>
</code></pre>